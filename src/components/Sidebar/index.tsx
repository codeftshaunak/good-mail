"use client";

import ClickOutside from "@/components/ClickOutside";
import SidebarItem from "@/components/Sidebar/SidebarItem";
import useLocalStorage from "@/hooks/useLocalStorage";
import Image from "next/image";
import Link from "next/link";
import { usePathname } from "next/navigation";

interface SidebarProps {
  sidebarOpen: boolean;
  setSidebarOpen: (arg: boolean) => void;
}

const menuGroups = [
  {
    name: "",
    menuItems: [
      {
        icon: (
          <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7 22.1667H10.904V15.2341H17.096V22.1667H21V11.6667L14 6.39429L7 11.6667V22.1667ZM5.25 23.9167V10.7917L14 4.20679L22.75 10.7917V23.9167H15.346V16.9841H12.654V23.9167H5.25Z" fill="#868E96" />
          </svg>
        ),
        label: "Overview",
        route: "/"
      },
      {
        icon: (
          <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.4167 19.25H14.5833V14.5833H19.25V13.4166H14.5833V8.74996H13.4167V13.4166H8.75V14.5833H13.4167V19.25ZM6.55142 23.3333C6.01437 23.3333 5.56598 23.1534 5.20626 22.7937C4.84653 22.434 4.66667 21.9856 4.66667 21.4485V6.55138C4.66667 6.01432 4.84653 5.56593 5.20626 5.20621C5.56598 4.84649 6.01437 4.66663 6.55142 4.66663H21.4486C21.9856 4.66663 22.434 4.84649 22.7938 5.20621C23.1535 5.56593 23.3333 6.01432 23.3333 6.55138V21.4485C23.3333 21.9856 23.1535 22.434 22.7938 22.7937C22.434 23.1534 21.9856 23.3333 21.4486 23.3333H6.55142ZM6.55142 22.1666H21.4486C21.6283 22.1666 21.7929 22.0919 21.9424 21.9423C22.0919 21.7928 22.1667 21.6282 22.1667 21.4485V6.55138C22.1667 6.37171 22.0919 6.20711 21.9424 6.05758C21.7929 5.90806 21.6283 5.83329 21.4486 5.83329H6.55142C6.37175 5.83329 6.20716 5.90806 6.05763 6.05758C5.9081 6.20711 5.83334 6.37171 5.83334 6.55138V21.4485C5.83334 21.6282 5.9081 21.7928 6.05763 21.9423C6.20716 22.0919 6.37175 22.1666 6.55142 22.1666Z" fill="#868E96" />
            <path d="M5.83334 5.83329V22.1666M13.4167 19.25H14.5833V14.5833H19.25V13.4166H14.5833V8.74996H13.4167V13.4166H8.75V14.5833H13.4167V19.25ZM6.55142 23.3333C6.01437 23.3333 5.56598 23.1534 5.20626 22.7937C4.84653 22.434 4.66667 21.9856 4.66667 21.4485V6.55138C4.66667 6.01432 4.84653 5.56593 5.20626 5.20621C5.56598 4.84649 6.01437 4.66663 6.55142 4.66663H21.4486C21.9856 4.66663 22.434 4.84649 22.7938 5.20621C23.1535 5.56593 23.3333 6.01432 23.3333 6.55138V21.4485C23.3333 21.9856 23.1535 22.434 22.7938 22.7937C22.434 23.1534 21.9856 23.3333 21.4486 23.3333H6.55142ZM6.55142 22.1666H21.4486C21.6283 22.1666 21.7929 22.0919 21.9424 21.9423C22.0919 21.7928 22.1667 21.6282 22.1667 21.4485V6.55138C22.1667 6.37171 22.0919 6.20711 21.9424 6.05758C21.7929 5.90806 21.6283 5.83329 21.4486 5.83329H6.55142C6.37175 5.83329 6.20716 5.90806 6.05763 6.05758C5.9081 6.20711 5.83334 6.37171 5.83334 6.55138V21.4485C5.83334 21.6282 5.9081 21.7928 6.05763 21.9423C6.20716 22.0919 6.37175 22.1666 6.55142 22.1666Z" stroke="#868E96" stroke-width="0.5" />
          </svg>
        ),
        label: "Campaign",
        route: "#",
        children: [
          { label: "Create campaign", route: "/campaign" },
          { label: "Manage campaign", route: "/manage-campaign" },
          { label: "Recipients", route: "/recipients" },
        ],
      },
      // {
      //   icon: (
      //     <svg
      //       className="fill-current"
      //       width="24"
      //       height="24"
      //       viewBox="0 0 24 24"
      //       fill="none"
      //       xmlns="http://www.w3.org/2000/svg"
      //     >
      //       <path
      //         d="M17 14C17.5523 14 18 13.5523 18 13C18 12.4477 17.5523 12 17 12C16.4477 12 16 12.4477 16 13C16 13.5523 16.4477 14 17 14Z"
      //         fill=""
      //       />
      //       <path
      //         d="M17 18C17.5523 18 18 17.5523 18 17C18 16.4477 17.5523 16 17 16C16.4477 16 16 16.4477 16 17C16 17.5523 16.4477 18 17 18Z"
      //         fill=""
      //       />
      //       <path
      //         d="M13 13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13Z"
      //         fill=""
      //       />
      //       <path
      //         d="M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z"
      //         fill=""
      //       />
      //       <path
      //         d="M7 14C7.55229 14 8 13.5523 8 13C8 12.4477 7.55229 12 7 12C6.44772 12 6 12.4477 6 13C6 13.5523 6.44772 14 7 14Z"
      //         fill=""
      //       />
      //       <path
      //         d="M7 18C7.55229 18 8 17.5523 8 17C8 16.4477 7.55229 16 7 16C6.44772 16 6 16.4477 6 17C6 17.5523 6.44772 18 7 18Z"
      //         fill=""
      //       />
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M7 1.75C7.41421 1.75 7.75 2.08579 7.75 2.5V3.26272C8.412 3.24999 9.14133 3.24999 9.94346 3.25H14.0564C14.8586 3.24999 15.588 3.24999 16.25 3.26272V2.5C16.25 2.08579 16.5858 1.75 17 1.75C17.4142 1.75 17.75 2.08579 17.75 2.5V3.32709C18.0099 3.34691 18.2561 3.37182 18.489 3.40313C19.6614 3.56076 20.6104 3.89288 21.3588 4.64124C22.1071 5.38961 22.4392 6.33855 22.5969 7.51098C22.75 8.65018 22.75 10.1058 22.75 11.9435V14.0564C22.75 15.8941 22.75 17.3498 22.5969 18.489C22.4392 19.6614 22.1071 20.6104 21.3588 21.3588C20.6104 22.1071 19.6614 22.4392 18.489 22.5969C17.3498 22.75 15.8942 22.75 14.0565 22.75H9.94359C8.10585 22.75 6.65018 22.75 5.51098 22.5969C4.33856 22.4392 3.38961 22.1071 2.64124 21.3588C1.89288 20.6104 1.56076 19.6614 1.40314 18.489C1.24997 17.3498 1.24998 15.8942 1.25 14.0564V11.9436C1.24998 10.1058 1.24997 8.65019 1.40314 7.51098C1.56076 6.33855 1.89288 5.38961 2.64124 4.64124C3.38961 3.89288 4.33856 3.56076 5.51098 3.40313C5.7439 3.37182 5.99006 3.34691 6.25 3.32709V2.5C6.25 2.08579 6.58579 1.75 7 1.75ZM5.71085 4.88976C4.70476 5.02502 4.12511 5.27869 3.7019 5.7019C3.27869 6.12511 3.02502 6.70476 2.88976 7.71085C2.86685 7.88123 2.8477 8.06061 2.83168 8.25H21.1683C21.1523 8.06061 21.1331 7.88124 21.1102 7.71085C20.975 6.70476 20.7213 6.12511 20.2981 5.7019C19.8749 5.27869 19.2952 5.02502 18.2892 4.88976C17.2615 4.75159 15.9068 4.75 14 4.75H10C8.09318 4.75 6.73851 4.75159 5.71085 4.88976ZM2.75 12C2.75 11.146 2.75032 10.4027 2.76309 9.75H21.2369C21.2497 10.4027 21.25 11.146 21.25 12V14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25H10C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14V12Z"
      //         fill=""
      //       />
      //     </svg>
      //   ),
      //   label: "Calendar",
      //   route: "/calendar",
      // },

      {
        icon: (
          <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20.8521 3.50002C21.5392 3.50002 22.1245 3.74178 22.6081 4.2253C23.0916 4.70882 23.3333 5.29415 23.3333 5.9813C23.3333 6.66845 23.0916 7.25379 22.6081 7.73731C22.1245 8.22082 21.5392 8.46258 20.8521 8.46258C20.3801 8.46258 19.9532 8.34332 19.5715 8.10478C19.1897 7.86608 18.89 7.54128 18.6725 7.13038C17.5056 7.78693 16.5526 8.66679 15.8133 9.76997C15.0739 10.8731 14.6107 12.0915 14.4238 13.4251L18.4167 13.4251C18.5388 12.8424 18.8276 12.3658 19.2831 11.9954C19.7387 11.6252 20.2617 11.4401 20.852 11.4401C21.5392 11.4401 22.1245 11.6819 22.6081 12.1654C23.0916 12.6489 23.3333 13.2342 23.3333 13.9214C23.3333 14.6085 23.0916 15.1939 22.6081 15.6774C22.1245 16.1609 21.5392 16.4027 20.852 16.4027C20.2617 16.4027 19.7387 16.2176 19.2831 15.8474C18.8276 15.477 18.5388 15.0004 18.4167 14.4177L14.4238 14.4177C14.6107 15.7513 15.0739 16.9633 15.8133 18.0537C16.5526 19.1442 17.5056 20.0304 18.6725 20.7124C18.89 20.3015 19.1897 19.9767 19.5715 19.738C19.9532 19.4995 20.3801 19.3802 20.852 19.3802C21.5392 19.3802 22.1245 19.622 22.6081 20.1055C23.0916 20.589 23.3333 21.1743 23.3333 21.8615C23.3333 22.5486 23.0916 23.134 22.6081 23.6175C22.1245 24.101 21.5392 24.3428 20.852 24.3428C20.1269 24.3428 19.518 24.0743 19.0256 23.5373C18.5331 23.0004 18.3149 22.3565 18.3708 21.6057C16.9801 20.9109 15.8528 19.9292 14.9888 18.6606C14.1248 17.392 13.6018 15.9777 13.4199 14.4177L6.56757 14.4177L8.65185 16.5019L7.9494 17.2044L4.66666 13.9214L7.9494 10.6384L8.65185 11.3409L6.56757 13.4251L13.4199 13.4251C13.6018 11.8651 14.1229 10.4498 14.9831 9.17918C15.8433 7.90876 16.9725 6.92808 18.3708 6.23712C18.3149 5.48629 18.5331 4.8424 19.0256 4.30545C19.518 3.7685 20.1269 3.50002 20.8521 3.50002Z" fill="#868E96" stroke="#868E96" stroke-width="0.5" />
          </svg>
        ),
        label: "Automation",
        route: "/automation",
        children: [
          { label: "Form Elements", route: "/forms/form-elements" },
          { label: "Form Layout", route: "/forms/form-layout" },
        ],
      },
      // {
      //   icon: (
      //     <svg
      //       className="fill-current"
      //       width="24"
      //       height="24"
      //       viewBox="0 0 24 24"
      //       fill="none"
      //       xmlns="http://www.w3.org/2000/svg"
      //     >
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M11.9999 1.25C9.37654 1.25 7.24989 3.37665 7.24989 6C7.24989 8.62335 9.37654 10.75 11.9999 10.75C14.6232 10.75 16.7499 8.62335 16.7499 6C16.7499 3.37665 14.6232 1.25 11.9999 1.25ZM8.74989 6C8.74989 4.20507 10.205 2.75 11.9999 2.75C13.7948 2.75 15.2499 4.20507 15.2499 6C15.2499 7.79493 13.7948 9.25 11.9999 9.25C10.205 9.25 8.74989 7.79493 8.74989 6Z"
      //         fill=""
      //       />
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M11.9999 12.25C9.68634 12.25 7.55481 12.7759 5.97534 13.6643C4.41937 14.5396 3.24989 15.8661 3.24989 17.5L3.24982 17.602C3.24869 18.7638 3.24728 20.222 4.5263 21.2635C5.15577 21.7761 6.03637 22.1406 7.2261 22.3815C8.41915 22.6229 9.97412 22.75 11.9999 22.75C14.0257 22.75 15.5806 22.6229 16.7737 22.3815C17.9634 22.1406 18.844 21.7761 19.4735 21.2635C20.7525 20.222 20.7511 18.7638 20.75 17.602L20.7499 17.5C20.7499 15.8661 19.5804 14.5396 18.0244 13.6643C16.445 12.7759 14.3134 12.25 11.9999 12.25ZM4.74989 17.5C4.74989 16.6487 5.37127 15.7251 6.71073 14.9717C8.02669 14.2315 9.89516 13.75 11.9999 13.75C14.1046 13.75 15.9731 14.2315 17.289 14.9717C18.6285 15.7251 19.2499 16.6487 19.2499 17.5C19.2499 18.8078 19.2096 19.544 18.5263 20.1004C18.1558 20.4022 17.5364 20.6967 16.4761 20.9113C15.4192 21.1252 13.9741 21.25 11.9999 21.25C10.0257 21.25 8.58063 21.1252 7.52368 20.9113C6.46341 20.6967 5.84401 20.4022 5.47348 20.1004C4.79021 19.544 4.74989 18.8078 4.74989 17.5Z"
      //         fill=""
      //       />
      //     </svg>
      //   ),
      //   label: "Profile",
      //   route: "/profile",
      // },
      {
        icon: (
          <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.4167 23.9167V21.5833H11.0834V20.4167H13.4167V16.8898C11.9256 16.7222 10.6777 16.0854 9.67321 14.9794C8.6689 13.8732 8.16675 12.5701 8.16675 11.0699C8.16675 9.45019 8.73404 8.07528 9.86862 6.94517C11.003 5.81506 12.3802 5.25 14.0001 5.25C15.62 5.25 16.9972 5.81506 18.1315 6.94517C19.2661 8.07528 19.8334 9.45019 19.8334 11.0699C19.8334 12.5701 19.3313 13.8732 18.327 14.9794C17.3225 16.0854 16.0746 16.7222 14.5834 16.8898V20.4167H16.9167V21.5833H14.5834V23.9167H13.4167ZM14.0036 15.75C15.2935 15.75 16.3932 15.2941 17.3026 14.3824C18.212 13.4704 18.6667 12.3696 18.6667 11.0798C18.6667 9.78989 18.2109 8.69021 17.2991 7.78079C16.3872 6.87138 15.2863 6.41667 13.9966 6.41667C12.7066 6.41667 11.607 6.87254 10.6975 7.78429C9.78812 8.69624 9.33341 9.79708 9.33341 11.0868C9.33341 12.3768 9.78929 13.4765 10.701 14.3859C11.613 15.2953 12.7138 15.75 14.0036 15.75Z" fill="#868E96" stroke="#868E96" stroke-width="0.5" />
          </svg>

        ),
        label: "Subscription",
        route: "/subscription",
      },
      // {
      //   icon: (
      //     <svg
      //       className="fill-current"
      //       width="24"
      //       height="24"
      //       viewBox="0 0 24 24"
      //       fill="none"
      //       xmlns="http://www.w3.org/2000/svg"
      //     >
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M2.25 7C2.25 6.58579 2.58579 6.25 3 6.25H13C13.4142 6.25 13.75 6.58579 13.75 7C13.75 7.41421 13.4142 7.75 13 7.75H3C2.58579 7.75 2.25 7.41421 2.25 7ZM16.5 6.25C16.7951 6.25 17.0628 6.42309 17.1839 6.69223L21.6839 16.6922C21.8539 17.07 21.6855 17.514 21.3078 17.6839C20.93 17.8539 20.486 17.6855 20.3161 17.3078L18.8787 14.1136H14.1213L12.6839 17.3078C12.514 17.6855 12.07 17.8539 11.6922 17.6839C11.3145 17.514 11.1461 17.07 11.3161 16.6922L15.8161 6.69223C15.9372 6.42309 16.2049 6.25 16.5 6.25ZM14.7963 12.6136H18.2037L16.5 8.82764L14.7963 12.6136ZM2.25 12C2.25 11.5858 2.58579 11.25 3 11.25H10C10.4142 11.25 10.75 11.5858 10.75 12C10.75 12.4142 10.4142 12.75 10 12.75H3C2.58579 12.75 2.25 12.4142 2.25 12ZM2.25 17C2.25 16.5858 2.58579 16.25 3 16.25H8C8.41421 16.25 8.75 16.5858 8.75 17C8.75 17.4142 8.41421 17.75 8 17.75H3C2.58579 17.75 2.25 17.4142 2.25 17Z"
      //         fill=""
      //       />
      //     </svg>
      //   ),
      //   label: "Forms",
      //   route: "#",
      //   children: [
      //     { label: "Form Elements", route: "/forms/form-elements" },
      //     { label: "Form Layout", route: "/forms/form-layout" },
      //   ],
      // },
      {
        icon: (
          <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.4759 6.04053C11.5274 7.42427 11.2927 8.80374 10.7867 10.0927C10.2807 11.3816 9.51415 12.5522 8.53502 13.5314C7.55589 14.5105 6.38525 15.277 5.09633 15.7831C3.80741 16.2891 2.42793 16.5237 1.04419 16.4722C2.42793 16.4207 3.80741 16.6553 5.09633 17.1614C6.38525 17.6674 7.55589 18.4339 8.53502 19.4131C9.51415 20.3922 10.2807 21.5628 10.7867 22.8517C11.2927 24.1407 11.5274 25.5201 11.4759 26.9039C11.4244 25.5201 11.659 24.1407 12.165 22.8517C12.671 21.5628 13.4376 20.3922 14.4167 19.4131C15.3958 18.4339 16.5665 17.6674 17.8554 17.1614C19.1443 16.6553 20.5238 16.4207 21.9075 16.4722C20.5238 16.5237 19.1443 16.2891 17.8554 15.7831C16.5665 15.277 15.3958 14.5105 14.4167 13.5314C13.4376 12.5522 12.671 11.3816 12.165 10.0927C11.659 8.80374 11.4244 7.42427 11.4759 6.04053Z" fill="#868E96" />
            <path d="M22.07 1.29102C22.0969 2.01551 21.9741 2.73778 21.7091 3.41263C21.4442 4.08749 21.0429 4.70041 20.5302 5.21306C20.0175 5.72571 19.4046 6.12706 18.7298 6.392C18.0549 6.65695 17.3327 6.77978 16.6082 6.75283C17.3327 6.72587 18.0549 6.8487 18.7298 7.11365C19.4046 7.37859 20.0175 7.77994 20.5302 8.29259C21.0429 8.80524 21.4442 9.41816 21.7091 10.093C21.9741 10.7679 22.0969 11.4901 22.07 12.2146C22.043 11.4901 22.1658 10.7679 22.4308 10.093C22.6957 9.41816 23.0971 8.80524 23.6097 8.29259C24.1224 7.77994 24.7353 7.37859 25.4102 7.11365C26.085 6.84871 26.8073 6.72587 27.5318 6.75283C26.8073 6.77978 26.085 6.65695 25.4102 6.392C24.7353 6.12706 24.1224 5.72571 23.6097 5.21306C23.0971 4.70041 22.6957 4.08748 22.4308 3.41263C22.1658 2.73778 22.043 2.01551 22.07 1.29102Z" fill="#868E96" />
          </svg>

        ),
        label: "AI chatbt",
        route: "#",
        children: [
          { label: "Tables", route: "/tables" },
        ],
      },
      {
        icon: (
          <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_4069_721)">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M21.5834 4.6665H8.75008C7.7835 4.6665 7.00008 5.44934 7.00008 6.4165V7.58317H6.41675C5.45016 7.58317 4.66675 8.366 4.66675 9.33317V20.9998C4.66675 22.2884 5.7115 23.3332 7.00008 23.3332H21.0001C22.2887 23.3332 23.3334 22.2884 23.3334 20.9998V6.4165C23.3334 5.44934 22.5494 4.6665 21.5834 4.6665ZM22.1667 20.9998C22.1667 21.6427 21.6429 22.1665 21.0001 22.1665H7.00008C6.35666 22.1665 5.83341 21.6427 5.83341 20.9998V9.33317C5.83341 9.01117 6.09475 8.74984 6.41675 8.74984H7.00008V20.4165C7.00008 20.7391 7.26083 20.9998 7.58341 20.9998C7.906 20.9998 8.16675 20.7391 8.16675 20.4165V6.4165C8.16675 6.0945 8.42808 5.83317 8.75008 5.83317H21.5834C21.9048 5.83317 22.1667 6.0945 22.1667 6.4165V20.9998Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M16.0407 12.2528H20.7074C20.8689 12.2528 20.999 12.1221 20.999 11.9611C20.999 11.8001 20.8689 11.6694 20.7074 11.6694H16.0407C15.8803 11.6694 15.749 11.8001 15.749 11.9611C15.749 12.1221 15.8803 12.2528 16.0407 12.2528Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M16.0407 10.5028H20.7074C20.8689 10.5028 20.999 10.3721 20.999 10.2111C20.999 10.0501 20.8689 9.91943 20.7074 9.91943H16.0407C15.8803 9.91943 15.749 10.0501 15.749 10.2111C15.749 10.3721 15.8803 10.5028 16.0407 10.5028Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M16.0407 8.75277H20.7074C20.8689 8.75277 20.999 8.6221 20.999 8.4611C20.999 8.3001 20.8689 8.16943 20.7074 8.16943H16.0407C15.8803 8.16943 15.749 8.3001 15.749 8.4611C15.749 8.6221 15.8803 8.75277 16.0407 8.75277Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M14.2918 20.4189H9.62516C9.46416 20.4189 9.3335 20.5502 9.3335 20.7106C9.3335 20.8722 9.46416 21.0023 9.62516 21.0023H14.2918C14.4522 21.0023 14.5835 20.8722 14.5835 20.7106C14.5835 20.5502 14.4528 20.4189 14.2918 20.4189Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M14.2918 18.6689H9.62516C9.46416 18.6689 9.3335 18.8002 9.3335 18.9606C9.3335 19.1222 9.46416 19.2523 9.62516 19.2523H14.2918C14.4522 19.2523 14.5835 19.1222 14.5835 18.9606C14.5835 18.8002 14.4528 18.6689 14.2918 18.6689Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M14.2918 16.9189H9.62516C9.46416 16.9189 9.3335 17.0502 9.3335 17.2106C9.3335 17.3722 9.46416 17.5023 9.62516 17.5023H14.2918C14.4522 17.5023 14.5835 17.3722 14.5835 17.2106C14.5835 17.0502 14.4528 16.9189 14.2918 16.9189Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M20.7083 20.4189H16.0417C15.8801 20.4189 15.75 20.5502 15.75 20.7106C15.75 20.8722 15.8801 21.0023 16.0417 21.0023H20.7083C20.8687 21.0023 21 20.8722 21 20.7106C21 20.5502 20.8687 20.4189 20.7083 20.4189Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M20.7083 18.6689H16.0417C15.8801 18.6689 15.75 18.8002 15.75 18.9606C15.75 19.1222 15.8801 19.2523 16.0417 19.2523H20.7083C20.8687 19.2523 21 19.1222 21 18.9606C21 18.8002 20.8687 18.6689 20.7083 18.6689Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M20.7083 16.9189H16.0417C15.8801 16.9189 15.75 17.0502 15.75 17.2106C15.75 17.3722 15.8801 17.5023 16.0417 17.5023H20.7083C20.8687 17.5023 21 17.3722 21 17.2106C21 17.0502 20.8687 16.9189 20.7083 16.9189Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M20.7085 13.4189H9.62516C9.46416 13.4189 9.3335 13.5496 9.3335 13.7106C9.3335 13.8716 9.46416 14.0023 9.62516 14.0023H20.7085C20.8689 14.0023 21.0002 13.8716 21.0002 13.7106C21.0002 13.5496 20.8689 13.4189 20.7085 13.4189Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M20.7085 15.1689H9.62516C9.46416 15.1689 9.3335 15.3002 9.3335 15.4606C9.3335 15.6222 9.46416 15.7523 9.62516 15.7523H20.7085C20.8689 15.7523 21.0002 15.6222 21.0002 15.4606C21.0002 15.3002 20.8689 15.1689 20.7085 15.1689Z" fill="#868E96" />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.91683 12.2496H14.0002C14.3227 12.2496 14.5835 11.9889 14.5835 11.6663V7.58529C14.5835 7.2627 14.3227 7.00195 14.0002 7.00195H9.91683C9.59425 7.00195 9.3335 7.2627 9.3335 7.58529V11.6663C9.3335 11.9883 9.59425 12.2496 9.91683 12.2496ZM10.5002 8.16629H13.4168V11.083H10.5002V8.16629Z" fill="#868E96" />
            </g>
            <defs>
              <clipPath id="clip0_4069_721">
                <rect width="18.6667" height="18.6667" fill="white" transform="translate(4.66675 4.6665)" />
              </clipPath>
            </defs>
          </svg>
        ),
        label: "Integrations",
        route: "/integrations",
      },
      // {
      //   icon: (
      //     <svg
      //       className="fill-current"
      //       width="24"
      //       height="24"
      //       viewBox="0 0 24 24"
      //       fill="none"
      //       xmlns="http://www.w3.org/2000/svg"
      //     >
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M2.25 7C2.25 6.58579 2.58579 6.25 3 6.25H13C13.4142 6.25 13.75 6.58579 13.75 7C13.75 7.41421 13.4142 7.75 13 7.75H3C2.58579 7.75 2.25 7.41421 2.25 7ZM16.5 6.25C16.7951 6.25 17.0628 6.42309 17.1839 6.69223L21.6839 16.6922C21.8539 17.07 21.6855 17.514 21.3078 17.6839C20.93 17.8539 20.486 17.6855 20.3161 17.3078L18.8787 14.1136H14.1213L12.6839 17.3078C12.514 17.6855 12.07 17.8539 11.6922 17.6839C11.3145 17.514 11.1461 17.07 11.3161 16.6922L15.8161 6.69223C15.9372 6.42309 16.2049 6.25 16.5 6.25ZM14.7963 12.6136H18.2037L16.5 8.82764L14.7963 12.6136ZM2.25 12C2.25 11.5858 2.58579 11.25 3 11.25H10C10.4142 11.25 10.75 11.5858 10.75 12C10.75 12.4142 10.4142 12.75 10 12.75H3C2.58579 12.75 2.25 12.4142 2.25 12ZM2.25 17C2.25 16.5858 2.58579 16.25 3 16.25H8C8.41421 16.25 8.75 16.5858 8.75 17C8.75 17.4142 8.41421 17.75 8 17.75H3C2.58579 17.75 2.25 17.4142 2.25 17Z"
      //         fill=""
      //       />
      //     </svg>
      //   ),
      //   label: "Pages",
      //   route: "#",
      //   children: [
      //     { label: "Settings", route: "/pages/settings" },
      //   ],
      // },
    ],
  },
  {
    name: "OTHERS",
    menuItems: [
      // {
      //   icon: (
      //     <svg
      //       className="fill-current"
      //       width="24"
      //       height="24"
      //       viewBox="0 0 24 24"
      //       fill="none"
      //       xmlns="http://www.w3.org/2000/svg"
      //     >
      //       <path
      //         fillRule="evenodd"
      //         clipRule="evenodd"
      //         d="M14.2544 1.36453C13.1584 1.05859 12.132 1.38932 11.4026 2.05955C10.6845 2.71939 10.25 3.70552 10.25 4.76063V11.4551C10.25 12.7226 11.2775 13.75 12.5449 13.75H19.2394C20.2945 13.75 21.2806 13.3156 21.9405 12.5974C22.6107 11.868 22.9414 10.8416 22.6355 9.74563C21.5034 5.69003 18.31 2.49663 14.2544 1.36453ZM11.75 4.76063C11.75 4.10931 12.0201 3.52918 12.4175 3.16407C12.8035 2.80935 13.3035 2.65643 13.8511 2.8093C17.4013 3.80031 20.1997 6.59875 21.1907 10.1489C21.3436 10.6965 21.1907 11.1965 20.8359 11.5825C20.4708 11.9799 19.8907 12.25 19.2394 12.25H12.5449C12.1059 12.25 11.75 11.8941 11.75 11.4551V4.76063Z"
      //         fill=""
      //       />
      //       <path
      //         d="M8.67232 4.71555C9.0675 4.59143 9.28724 4.17045 9.16312 3.77527C9.039 3.38009 8.61803 3.16036 8.22285 3.28447C4.18231 4.55353 1.25 8.32793 1.25 12.7892C1.25 18.2904 5.70962 22.75 11.2108 22.75C15.6721 22.75 19.4465 19.8177 20.7155 15.7772C20.8397 15.382 20.6199 14.961 20.2247 14.8369C19.8296 14.7128 19.4086 14.9325 19.2845 15.3277C18.2061 18.761 14.9982 21.25 11.2108 21.25C6.53805 21.25 2.75 17.462 2.75 12.7892C2.75 9.00185 5.23899 5.79389 8.67232 4.71555Z"
      //         fill=""
      //       />
      //     </svg>
      //   ),
      //   label: "Charts",
      //   route: "#",
      //   children: [
      //     { label: "Basic Chart", route: "/charts/basic-chart" },
      //   ],
      // },
      {
        icon: (
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" className="lucide lucide-badge-x"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z" /><line x1="15" x2="9" y1="9" y2="15" /><line x1="9" x2="15" y1="9" y2="15" /></svg>
        ),
        label: "Support",
        route: "#",
      },
      {
        icon: (
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" className="lucide lucide-settings"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" /><circle cx="12" cy="12" r="3" /></svg>
        ),
        label: "Settings",
        route: "#",
      },
    ],
  },
];

const Sidebar = ({ sidebarOpen, setSidebarOpen }: SidebarProps) => {
  const pathname = usePathname();

  const [pageName, setPageName] = useLocalStorage("selectedMenu", "dashboard");

  return (
    <ClickOutside onClick={() => setSidebarOpen(false)}>
      <aside
        className={`absolute left-0 top-0 z-9999 flex h-screen w-72.5 flex-col overflow-y-hidden border-r border-stroke bg-white dark:border-stroke-dark dark:bg-gray-dark lg:static lg:translate-x-0 ${sidebarOpen
          ? "translate-x-0 duration-300 ease-linear"
          : "-translate-x-full"
          }`}
      >
        {/* <!-- SIDEBAR HEADER --> */}
        <div className="flex items-center justify-between gap-2 px-6 pt-5.5 lg:py-6.5 xl:pt-10">
          <Link href="/">
            <Image
              width={176}
              height={32}
              src={"/images/logo/logo-dark.svg"}
              alt="Logo"
              priority
              className="dark:hidden"
              style={{ width: "auto", height: "auto" }}
            />
            <Image
              width={176}
              height={32}
              src={"/images/logo/logo.svg"}
              alt="Logo"
              priority
              className="hidden dark:block"
              style={{ width: "auto", height: "auto" }}
            />
          </Link>

          <button
            onClick={() => setSidebarOpen(!sidebarOpen)}
            className="block lg:hidden"
          >
            <svg
              className="fill-current"
              width="20"
              height="18"
              viewBox="0 0 20 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M19 8.175H2.98748L9.36248 1.6875C9.69998 1.35 9.69998 0.825 9.36248 0.4875C9.02498 0.15 8.49998 0.15 8.16248 0.4875L0.399976 8.3625C0.0624756 8.7 0.0624756 9.225 0.399976 9.5625L8.16248 17.4375C8.31248 17.5875 8.53748 17.7 8.76248 17.7C8.98748 17.7 9.17498 17.625 9.36248 17.475C9.69998 17.1375 9.69998 16.6125 9.36248 16.275L3.02498 9.8625H19C19.45 9.8625 19.825 9.4875 19.825 9.0375C19.825 8.55 19.45 8.175 19 8.175Z"
                fill=""
              />
            </svg>
          </button>
        </div>
        {/* <!-- SIDEBAR HEADER --> */}

        <div className="no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear">
          {/* <!-- Sidebar Menu --> */}
          <nav className=" px-4 lg:px-6">
            {menuGroups.map((group, groupIndex) => (
              <div key={groupIndex}>
                <h3 className="mb-5 text-sm font-medium text-dark-4 dark:text-dark-6">
                  {group.name}
                </h3>

                <ul className="mb-6 flex flex-col gap-2">
                  {group.menuItems.map((menuItem, menuIndex) => (
                    <SidebarItem
                      key={menuIndex}
                      item={menuItem}
                      pageName={pageName}
                      setPageName={setPageName}
                    />
                  ))}
                </ul>
              </div>
            ))}
          </nav>
          {/* <!-- Sidebar Menu --> */}
        </div>
      </aside>
    </ClickOutside>
  );
};

export default Sidebar;
